IGNOREPATH=/boot:/cdrom:/dev:/home:/mnt:/proc:/root:/tmp:/usr/src:/var/log:/var/spool/cron
STRIPLIB=y
STRIPBIN=y

# pkginfo
VERSION=0.3.2
PROGNAME="node"
DESC="AX.25 node version $VERSION\n\
\n\
This is a simple node frontend for Linux kernel AX.25, NETROM,\n\
ROSE and TCP. Author: Tomi Manninen OH2BNS, <tomi.manninen@hut.fi>"

# maintainer
ARCH=i486
BUILD=1
MAINTAINER="Arno Verhoeven <pe1icq@sharon.esrac.ele.tue.nl>"
SOURCE="http://hes.iki.fi/pub/ham/unix/linux/ax25/"
LOCATION="http://sharon.esrac.ele.tue.nl/pub/slackware/slackware-current/extra/ham/"

# package name
PKGNAME=$PROGNAME-$VERSION-$ARCH-$BUILD

compile() {
   tar xvzf $CWD/$PROGNAME-$VERSION.tar.gz
   ln -s $PROGNAME-$VERSION $PROGNAME-0.3.0
   zcat $CWD/node-0.3.0_pe1jpd_wildcard_patch.diff.gz | patch -p0 --verbose
   cd $PROGNAME-$VERSION
   ./configure
   make depend
   make
}

install() {
   make install
   make installconf
   mkdir -p /usr/lib/ax25/node/help_french
   cp etc/help_french/*.hlp /usr/lib/ax25/node/help_french
   mkdir -p /usr/doc/$PROGNAME-$VERSION
   cp AUTHORS HISTORY README INSTALL /usr/doc/$PROGNAME-$VERSION
}

attributes() {
   chmod 4755 $PKG/usr/sbin/node
}

special() {
   # Generate a slack-desc file
 
   # output the package name first
   for a in 1 2 3 4 5 6 7 8 9 10 11
   do
      echo "$PROGNAME:" >> $TMP/leftside
   done
 
   # now place the description in a file
   echo -e "$DESC" > $TMP/rightside
 
   # combine the two
   paste -d ' ' $TMP/leftside $TMP/rightside > $CTL/slack-desc
   rm -rf $TMP/leftside $TMP/rightside
}

subpacks() {
   echo "no sub-packages..."
}

