VERSION=1.0.6
BUILD=1
ARCH=sparc

PKGNAME=icewm-$VERSION-$ARCH-$BUILD
MAINTAINER="David Cantrell <david@slackware.com>"

IGNOREPATH=/tmp:/proc:/dev:/root:/var/log:/a
STRIPLIB=y
STRIPBIN=y

PROGNAME=icewm
DESC="\
icewm-$VERSION\n\
\n\
The goal of IceWM is to provide a small, fast and familiar window\n\
manager for the X11 window system. Compatibility with the mwm window\n\
manager is desired and will be implemented where appropriate.\n\
\n\
The IceWM is designed to emulate the look of Motif, OS/2 Warp 4, OS/2\n\
Warp 3 and Windows 95. Others might added in the future.\n\
\n\
It also tries to combine the feel of the above systems whenever it is\n\
compatible."

compile() {
   tar xvyf $CWD/icewm-${VERSION}-5.tar.bz2
   cd icewm-$VERSION
   zcat $CWD/icewm-$VERSION-time.h.diff.gz | patch -p1 --verbose -E
   ./configure --prefix=/usr/X11R6 \
               --enable-i18n \
               --enable-nls
   make
}

install() {
   make install
   ( cd /usr/doc
     rm -rf icewm-$VERSION ; ln -sf /usr/X11R6/doc/icewm-$VERSION . )
   mkdir -p /etc/X11/xinit
   cp $CWD/xinitrc.icewm /etc/X11/xinit
}

attributes() {
   chmod 755 $PKG/etc/X11/xinit/xinitrc.icewm
}
