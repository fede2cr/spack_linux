VERSION=1.2.2
BUILD=1
ARCH=sparc
TAG=ADD

PKGNAME=iptables-$VERSION-$ARCH-$BUILD
MAINTAINER="David Cantrell <david@slackware.com>"

IGNOREPATH=/tmp:/proc:/dev:/root:/var:/a
STRIPLIB=y
STRIPBIN=y

PROGNAME="iptables-$VERSION"
DESC="\
iptables-$VERSION\n\
\n\
iptables is a packet filter administration tool for Linux 2.4,\n\
replacing the ipchains tool that was used with the 2.2 kernel.  The\n\
iptables  tool is used to set up, maintain, and inspect the tables of\n\
IP packet filter rules in the Linux kernel for packet filtering,\n\
firewalling, and NAT (Network Address Translation).\n\
\n\
If you plan to set up a firewall with Linux 2.4, you'll need this."

compile() {
   tar xvyf $CWD/iptables-$VERSION.tar.bz2
   cd iptables-$VERSION
   zcat $CWD/iptables-1.2.2.diff.gz | patch -p1 -b -z .orig -E --verbose
   make
}

install() {
   make install
   make install-devel
   make experimental
   make install-experimental

   mkdir -p /usr/doc/iptables-$VERSION
   cp COPYING INSTALL KNOWN_BUGS /usr/doc/iptables-$VERSION
}
